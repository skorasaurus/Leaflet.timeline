<html>
  <head>
    <title>Leaflet.timeline Example - Country Borders</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.12.0/moment.min.js"></script>

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js"></script>
    <script src="leaflet.timeline.js"></script>

    <style>
      html, body{
        margin: 0;
        padding: 0;
      }
      #map{
        width: 100vw;
        height: 100vh;
      }
      .leaflet-bottom.leaflet-left{
        width: 100%;
      }
      .leaflet-control-container .leaflet-timeline-controls{
        box-sizing: border-box;
        width: 100%;
        margin: 0;
        margin-bottom: 15px;
      }
    </style>
  </head>
  <body>
    test 50
    <div id="map"></div>

    <script>

// 

      var polygons = {
        "type": "FeatureCollection",
        "features": [
          {
            "type": "Feature",
            "properties": {
              "start": "1970-01-05",
              "end": "1979-12-31"
            },
            "geometry": {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    52.3828125,
                    58.90464570302001
                  ],
                  [
                    52.3828125,
                    70.25945200030641
                  ],
                  [
                    97.03125,
                    70.25945200030641
                  ],
                  [
                    97.03125,
                    58.90464570302001
                  ],
                  [
                    52.3828125,
                    58.90464570302001
                  ]
                ]
              ]
            }
          },
          {
            "type": "Feature",
            "properties": {
              "date": "1980-01-01",
              "end": "1989-12-31"
            },
            "geometry": {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    111.09374999999999,
                    57.32652122521709
                  ],
                  [
                    111.09374999999999,
                    71.24435551310671
                  ],
                  [
                    149.765625,
                    71.24435551310671
                  ],
                  [
                    149.765625,
                    57.32652122521709
                  ],
                  [
                    111.09374999999999,
                    57.32652122521709
                  ]
                ]
              ]
            }
          },
          {
            "type": "Feature",
            "properties": {
              "start": "1990-01-01",
              "end": "1999-12-31"
            },
            "geometry": {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    42.5390625,
                    37.996162679728116
                  ],
                  [
                    42.5390625,
                    51.944264879028765
                  ],
                  [
                    94.74609375,
                    51.944264879028765
                  ],
                  [
                    94.74609375,
                    37.996162679728116
                  ],
                  [
                    42.5390625,
                    37.996162679728116
                  ]
                  ]
                  ]
            }
          },
          {
            "type": "Feature",
            "properties": {
              "start": "2000-01-01",
              "end": "2009-12-31"
            },
            "geometry": {
              "type": "Polygon",
              "coordinates": [
                [
                  [
                    -113.90625,
                    14.604847155053898
                  ],
                  [
                    -113.90625,
                    74.1160468394894
                  ],
                  [
                    10.546875,
                    74.1160468394894
                  ],
                  [
                    10.546875,
                    14.604847155053898
                  ],
                  [
                    -113.90625,
                    14.604847155053898
                  ]
                  ]
                  ]
            }
          }
        ]
      };
      
      function getColorFor(str) { // java String#hashCode
        var hash = 0;
        for (var i = 0; i < str.length; i++) {
          hash = str.charCodeAt(i) + ((hash << 5) - hash);
        }
        var red = (hash >> 24) & 0xff;
        var grn = (hash >> 16) & 0xff;
        var blu = (hash >>  8) & 0xff;
        return 'rgb(' + red + ',' + grn + ',' + blu + ')';
      } 
      var osmUrl = 'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';
      var osmAttrib = '&copy; <a href="http://openstreetmap.org/copyright">OpenStreetMap</a> contributors';
      var osm = L.tileLayer(osmUrl, {maxZoom: 18, attribution: osmAttrib});
      var map = L.map('map', {layers: [osm], center: new L.LatLng(0,0), zoom: 2 });

          var slider = L.timelineSliderControl({
        formatOutput: function(date){
          return moment(date).format("YYYY-MM-DD");

        }
      });
      map.addControl(slider);

      var polygonTimeline = L.timeline(polygons);

      // var polygonTimeline = L.timeline(polygons, {
      //     // start : moment(from).add(1000, "y").toDate().getTime(),
      //     // end: moment(to).add(1000, "y").toDate().getTime()
      // });

      // polygonTimeline.setTime("2080-");

      polygonTimeline.addTo(map);

      slider.addTimelines(polygonTimeline);
          </script>
  </body>
</html>
